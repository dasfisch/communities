// @author Carl Albrecht-Buehler
// @author Tim Steele

// SITE-WIDE TAG STYLES
html, body {
  height: 100%;
  text-align: left;
  background: $lightest-color;
  margin: 0;
  padding: 0;
  font-family: $basefont;
  line-height: 1.4;
  color: sears( body );
}

.kmart a {
  color: kmart( link );
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
  &:visited {
    color: kmart( link );
  }
}

.sears a {
  color: sears( link );
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
  &:visited {
    color: sears( link );
  }
}
// END SITE-WIDE TAG STYLES

// CONVENIENCE CLASSES
.right {
  float: right;
}
.left {
  float: left;
}

.hide {
  display:none;
}

.bullets {
  margin: 1em 0; 
  padding: 0 0 0 40px; 
}

ol.bullets {
  list-style-type:decimal;
}

ul.bullets {
  list-style-type:disc;
}

.bold {
  font-weight: 700;
}

.faint {
  color: sears( secondary-link );
}

.upcase {
  text-transform: uppercase;
}

.downcase {
  text-transform: lowercase;
}

.background_light-gray {
  background-color: #f3f3f3;
}

.link-emulator {
  cursor: pointer;
  &:hover {
    text-decoration: underline;
  }
}
.sears .link-emulator {
  color: sears( link );
}
.kmart .link-emulator {
  color: kmart( link );
}

// SPRITES
#header.sears form #button_search, #header.sears form #input_search,
.sears_button
{
  background-image:url(#{$sears-img}sprite_global.png);
}

#header.kmart form #button_search, #header.kmart form #input_search,
.kmart_button
{
  background-image:url(#{$kmart-img}sprite_global.png);
}

// COMMONLY USED ELEMENTS
.member {
  .info {
    font-size: percentage( 12/16 );
    word-wrap: break-word;
    h4, address {
      @extend .bold;
    }
    h5, p {
      @extend .faint;
    }
    address {
      display: block;
      @extend .bold;
    }
  }
}

// CREST - the assembly of a user's image, title, name and address
.badge {
  // Deprecating in favor of .crest
  img {
    display: block;
    margin: 0 auto;
  }
  h4 {
    padding: .5em 0;
    word-wrap: break-word;
    letter-spacing:-.05em;
  }
  h4, address {
    font-size: percentage( 12/16 );
    @extend .bold;
  }
  &.labeled {
    h4 {
      background: sears( badge ) url('#{$img}sprite-user.png') repeat-x left bottom;
      text-align: center;
      @include border-radius( 0 0 10px 10px );
    }
    h4, h4 a {
      color: $lightest-color;
    }
    .badge-tail {
      background: url('#{$img}sprite-user.png') no-repeat center top;
      height: 10px;
      overflow: hidden;
    }
  }
}

// Handles the display of user's images, names, titles and addresses (their crest)
.crest {
  word-wrap: break-word;
  img {
    display: block;
    margin: 0 auto;
  }
  h4 {
    padding: .5em 0;
    letter-spacing:-.05em;
  }
  h4, address {
    font-size: percentage( 12/16 );
    @extend .bold;
  }
  &.labeled {
    h4 {
      background: sears( badge ) url('#{$img}sprite-user.png') repeat-x left bottom;
      text-align: center;
      @include border-radius( 0 0 10px 10px );
    }
    h4, h4 a {
      color: $lightest-color;
    }
    .tail {
      background: url('#{$img}sprite-user.png') no-repeat center top;
      height: 10px;
      overflow: hidden;
    }
  }
}

.span4 .span4 .badge h4 {
  font-size: 10px;
}

.span4 .span4 .crest h4 {
  font-size: 10px;
}

.post {
  .content-date {
    display: block;
    float: right;
    font-size:.6875em;
    @extend .faint;
  }
  hgroup {
    @extend .bold;
  }
  h3 {
    font-size: 90%;
  }
  h2 {
    margin-top: .5em;
  }
  article {
    margin-top: .5em;
  }
  .post-actions {
    margin-top: .5em;
    font-size: percentage( 13/16 );
  }
}

.excerpt {
  @extend .faint;
}

/*
 * GLOBAL ELEMENTS
 */

/*
 * form elements
 */
.input_text {
  // Do not set padding for left/right to 0.
  // IE8 no like this.
  padding:.3125em .01em;
  border:solid 1px sears( decorative );
  height:1.25em;
}

.required:after, .optional:after {
  color: #999999;
  font-size:.7857em;
}

.required:after {
  content: " Required";
}

.optional:after {
  content: " Optional";
}

.form-fields {
  & > li {
    margin-bottom:1.35em;
  }
  label {
    display:block;
    font-size:.875em;
    font-weight:bold;
  }
}

.sears_button, .kmart_button {
  border-left:solid #ff9e6c;
  border-right:solid #cc6f35;
  border-width:0px 1px;
  color: $lightest-color;
  cursor:pointer;
  font-size:.875em;
  font-weight:bold;
  height:32px;
  padding:0em 1.5em;
  position:relative;
  text-shadow:1px 1px sears( sec-dec);
  top:-1px;
  @include border-radius( 5px );
}

.sears_button.azure, .kmart_button.azure {
  background-image: url('#{$sears-img}/sprite_global.png');
  border-color:#60768b;
  color:#366392;
  text-shadow:none;
}

.sears_button {
  background-position:0px -88px;
}

.sears_button.azure,
.kmart_button.azure {
  background-position:0px -140px;
}

.kmart_button {
  background-position:0px -96px;
}

.error-message {
  display:none;
}

.error {
  input[type="text"], input[type="password"] {
    border:solid 1px #ff0000;
  }
  .error-message {
    background-color:#e41e13;
    color:$lightest-color;
    display:block;
    float:left;
    font-weight:bold;
    margin:10px 0px 0px;
    padding:.25em 1em;
    position:relative;
    @include border-radius( 5px );
    .error-pointer {
      background:transparent url(#{$img}error_pointer-arrow.png) no-repeat 0px 0px;
      height:9px;
      display:block;
      left:15px;
      position:absolute;
      top:-9px;
      width:19px;
    }
  }
}

form {}

// FEATURED
.content-container .content-headline {
  font-size:1.25em;
  font-weight:bold;
  margin:0;
}

.content-container .content-header {
  border:solid #dddcdc;
  border-width:1px 0px;
  padding:.625em;
  @extend .bold;
  @extend .faint;
  h3 {
    font-size:1.25em;
  }
  h4 {
    font-size:.6875em;
  }
}

.content-container .content-body {
  padding:.625em;
 
  .content-details {
    padding-bottom:.625em;
    .content-category {
      font-size:.8125em;
      float:left;
      @extend .bold;
    }
    .content-date {
      color: sears( sec-dec );
      font-size:.6875em;
      float:right;
    }
  }
  .content-comments {
    color:#333333;
    font-size:.75em;
    margin-top:.8125em;
    li {
      border-left:solid 1px #999999;
      float:left;
      padding:0em .3125em;
    }
    & > li:first-child {
      border-left:none;
    }
  }
	.share-full {
		margin-top: 10px;
	}
}

.content-body {
  p {
    color:#333333;
    font-size:.8125em;
    line-height:1.7em;
    margin-bottom:1em;
  }
}

.span4, .span3 {
  .content-container .content-body .content-comments li {
    border-left: 0;
    float: none;
  }
}


// FEATURED COMMUNITY MEMBERS
.featured-members .member {
  .content-comments {
    width: 100%;
    li {
      float: none;
      border: 0;
    }
  }
  .stats {
    float: right;
    li {
      font-size: 12px;
    }
    p {
      margin-bottom: .3em;
    }
  }
  .info ul {
    margin: .3em 0;
  }
}

.span3, .span4, .span6 {
  .member {
    @include col_layout( ( 50, 100 ), 10 );
    margin-top: 1em;
    &:first-child {
      margin-top: 0;
    }
  }
}

.span8, .span9, .span12 {
  .featured-members .content-body {
    & > * {
      width: 29.9%;
      float: left;
      padding: 0 1.6%;
    }
    .member {
      border-left: 1px solid sears( decorative );
      &:first-child {
        border-left: 0;
      }
      @include col_layout( ( 50, 50 ), 5 );
    }
    @include legacy-pie-clearfix;
    .stats {
      float: none;
      clear: left;
      width: 100%;
    }
  }
}
// Alternate selector for below class. Use if override for more scenarios is required.
// Also, more like these would have to be created on a per-widget basis if development is asked to create more override states.
//.span3 .featured-members, .span4 .featured-members, .span6 .featured-members,
//.span3.featured-members, .span4.featured-members, .span6.featured-members, .span8.featured-members

.span3 .featured-members, .span4 .featured-members, .span6 .featured-members {
  .span4 {
    float: none;
    width: 100%;
    margin-left: 0;
    margin-bottom: 1em;
    .member {
      border-right: 0;
      @include col_layout( (80, 210), 10 );
    }
  }
}

// FEATURED QUESTION
.featured-question.content-container {
  .category-image {
    background:transparent url(#{$img}category-image.jpg) no-repeat 0px 0px;
    float:left;
    height:6.25em;
    margin:0 .625em .625em 0;
    width:6.25em;
  }

  $column-width: nth( $span-widths, 4 );
  $calculated-widths: ratioize( ($column-width, $column-width, 10) );
  &.columns {
    .content-body {
      & > * {
        float: left;
        width: nth( $calculated-widths, 1 );
        & + * {
          margin-left: nth( $calculated-widths, 3 );
        }
      }
    }
    .featured:nth-child(odd) .column {
      border-right: 1px solid sears( decorative );
      padding-right: nth( $calculated-widths, 3 );
    }
    .content-date {
      float: none;
    }
    .content-headline {
      font-size: 90%;
    }
  }
}

.span4, .span3 {
  .featured-question.content-container.columns .content-body > * {
    float: none;
    width: 100%;
    margin-left: 0;
  }
}
.span4, .span3 {
  .featured-question.content-container.columns .featured {
    margin-bottom: .75em;
    &:nth-child(odd) .column {
      border-right: 0;
      padding-right: 0;
    }
  }
}

// RESULT LIST
.result-list {
  margin-top: 1em;
  border: 1px solid sears( decorative );
  @include border-radius( 5px );
  .content-header {
    width: 95%;
    margin-left: auto;
    margin-right: auto;
  }
  .lone-result {
    padding-top: .75em;
    margin-top: .5em;
    border-top: 1px solid sears( decorative );
    &:first-child {
      margin-top: 0;
      border-top: 0;
    }
  }
  .content-header {
    border-top: 0;
    font-size: percentage( 12/16 );
    padding-top: 1.5em;
    padding-bottom: 1.5em;
  }
}

.member .info .content-comments {
  font-size: 100%;
  li {
    float: none;
    border: 0;
    margin-top: 0;
  }
}

// FEATURED BLOG POST
.content-container.featured-post {
  .content-excerpt, .content-byline, .content-tags {
    font-size:.75em
  }
}
.span4 .content-container.featured-post .span6 {
  width: 100%;
  margin-left: 0;
}

// RECENT ACTIVITY
.recent-activity {
  li {
    margin-top: 1em;
    border-top: 1px solid sears( decorative );
    padding-top: .75em;
    padding-bottom: .75em;
    font-size: percentage( 12/16 );
    line-height: 1.7;
    &:first-child {
      margin-top: 0;
      border-top: 0;
    }
  }
  time {
    float: right;
    @extend .faint;
  }
  h3 {
    a {
      font-weight: bold;
    }
    & > * {
      display: block;
    }
  }
  .excerpt {
    padding: .3em 1em;
    color: $darkest-color;
    background: sears( content-focus );
    // create quotes around a comment
    &:before {
      // left quote
      content: "\201C";
    }
    &:after {
      // right quote
      content: "\201D";
    }
  }
  .category {
    font-size: 90%;
    padding-top: .2em;
  }
}

/*
 * POST A QUESTION
 */

.content-container.post-your-question {
  form {
    margin-top:.75em;
    .state_post-your-question {
      .input_text {
        width:83%;
      }
    }
    .state_post-question-details {
      .input_text {
        width:98%;
      }
      .input_textarea {
        width:98%;
      }
    }
    .state_confirm-post {
      .confirmation {
        padding:.625em;
      }
      .content-headline {
        color:#666666;
        font-size:1.25em;
        margin-bottom:.30em;
      }
    }
  }
}

/*
 * LOGIN/REGISTER/FORGOT PASSWORD
 */
#moodle_container .sign-in, body > .sign-in,
#moodle_container .register, body > .register {
  padding:20px;
}

.form_login, .form_register {
  .input_text {
    width:100%;
  }
  label, a {
    line-height:32px;
  }
  label {
    text-align:right;
  }
  .forgot {
    font-size: .6875em;
  }
  .form-fields > li p {
    margin-bottom:0;
  }
}
fieldset#use_your_account_from {
    border-top: 1px solid sears( decorative );
  legend {
    text-align: center;
    padding: 1em;
  }
}
.login_options {
  text-align: center;
  line-height: 2.5;
  width: 15em;
  margin: 0 auto;
  a {
    display: inline-block;
    width: 16px;
    height: 16px;
    background: url('#{$img}sprite-social.png');
    background-repeat: no-repeat;
    text-indent: -9999em;
    margin-left: 1.3em;
    &:first-child, &:first-child + a, &:first-child + a + a {
      margin-left: 0;
    }
  }
  .facebook {
    width: 213px;
    height: 32px;
  }
  .yahoo {
    width: 28px;
  }
  $social-links: ("facebook", "yahoo", "google", "twitter", "myspace", "aol", "hint", "openid" );
  @for $s from 2 through length( $social-links ) {
    @include sprite-position(".#{nth($social-links, $s)}", ( $soc-sprite-offset * ( -1 ) - ( $soc-sprite-period * ( $s - 2 ) ) ) );
  }
}

// subnav widget
.widget_communities_menu_widget {
  .subnav-items {
    font-size: .80em;
    .menu-item {
      padding: 6px 0;
    }
  }
  .subcat-selector-container {
    font-size: .75em;
    margin-top: 15px;
    color: sears( secondary-link );
    select {
      margin-left: 10px;
      color: $darkest-color;
    }
  }
}

// PROFILE
$tab-padding: "1em 0 .6em 0";
.profile {
  .tabs {
    border-bottom: 1px solid sears( decorative );
    position: relative;
    top: 1px;
    li {
      float: left;
      min-width: percentage( ( nth( $span-widths, 3 ) ) / $grid-width );
      margin-left: $margin-width-pct;
      border: solid sears( decorative );
      border-width: 1px 1px 0 1px;
      text-align: center;
      font-size: percentage( 12/16 );
      @include border-radius( 5px 5px 0 0);
      background: $nav-color url('#{$sears-img}sprite_navigation.png');
    }
    a {
      display: block;
      padding: #{$tab-padding};
    }
    @include sprite-position( "li", left, ( $nav-sprite-period * ( -1 ) - 1 ) );
    .active {
      position: relative;
      top: 1px;
      background: $lightest-color;
      padding: #{$tab-padding};
    }
  }
  nav.bar {
    clear: left;
    border-bottom: 1px solid sears( decorative );
    border-top: 1px solid sears( decorative );
    @include background-image( linear-gradient( white, #f4f4f4 ) );
    li {
      float: left;
      margin-left: $margin-width-pct;
      font-size: percentage( 15/16 );
      padding: .6em .5em;
    }
    li:first-child {
      margin-left: 0;
    }
  }
  .profile-summary {
    margin-bottom: 1em;
  }
  .edit-profile-link {
    display: block;
    margin-top: 3em;
  }
  .answers-toggle {
    display: block;
    margin-left: 2em;
    @extend .bold;
  }
  .expert-answers {
    padding: 1em 3%;
    &.span2 {
      margin-left: 0;
    }
  }
  .personal_info {
    margin-top: 1em;
    dt, dd {
      float: left;
      padding: 1em 0;
      border-top: 1px solid sears( decorative );
      font-size: percentage( 13/16 );
    }
    dt {
      width: 30%;
      margin-left: 2%;
      @extend .bold;
      &:first-child, &:first-child + dd {
        border-top: 0;
      }
    }
    dd {
      width: 64%;
      padding-left: 2%;
    }
    .info h4 {
      margin-top: 1em;
    }
    .badge, .crest {
      text-align: center;
      a {
        font-size: percentage( 12/16 );
      }
    }
    .vitals {
      margin-top: 1em;
      background: sears( content-focus );
    }
  }
  .upload-photo {
    label, input, button {
      display: inline-block;
      cursor: pointer;
      margin: .5em;
    }
    input[type="file"] {
      width: 100%;
      font-size: 12px;
      text-align: right;
    }
  }
  .no-activity {
    margin: 2em;
  }
}

.kmart {
  .answers-toggle, .upload-photo label {
    color: kmart( link );
    @extend .bold;
  }
}
.sears {
  .answers-toggle, .upload-photo label {
    color: sears( link );
    @extend .bold;
  }
}

// content list widget
.content-body.content-list {
  .content-item {
    margin-bottom: 10px;
    float: left;
    clear: both;
    .post-title {
      line-height: 1.2em;
    }
    .byline, .comments-count, .post-date {
      font-size: .7em;
      line-height: 1.4em;
      color: #999;
    }
    p {
      margin-bottom: 0;
    }
  }
  .more-link {
    font-size: .8em;
    margin-top: 15px;
    float: left;
    clear:both;
  }
}

// question list widget
.content-container.questionlist .content-body.content-list {
	.content-item {
		margin-bottom: 20px;
		.post-category {
			font-weight: bold;
			margin-bottom: 4px;
		}
		.addthis.dropmenu {
			padding-top: 3px;
			font-size: .75em;
			.sharebutton {
				padding: 0;
			}
		}
	}
}

.tooltip {
  display: none;
  position: absolute;
  left: 12em;
  width: 200px;
  z-index: 1000;

  .arrow {
    left: -10px;
    position: absolute;

    .arrowLeft {
      background-color: transparent;
      border-color: #ffffff #a0c7ff #ffffff #ffffff;
      border-style: solid;
      border-width: 10px 10px 10px 0px;
      width: 0px;
      height: 0px;
    }

    .arrowLeftBorder {
      background-color: transparent;
      border-color: transparent #ffffff transparent transparent;
      border-style: solid;
      border-width: 9px 9px 9px 0px;
      width: 0px;
      height: 0px;
      position: relative;
      left: 2px;
      top: -19px;
    }
  }

  .middle {
    @include border-radius( 4px );
    background-color: $lightest-color;
    border: 1px solid #A0C7FF;
    color: $darkest-color;
    float: left;
    padding: 7px;
  }
}

// Threaded Discussion
.commentForm {
  margin-bottom: 20px;
  
  .leaveComment {
    float: right;
    cursor: pointer;

    .smaller {
      bottom: 2px;
      font-size: 8px;
      position: relative;
    }
  }
}

.comments-header {
  margin-bottom: 1em;
  h3 {
    font-size: percentage( 18/16 );
  }
  h4 {
    margin-left: 2em;
    color: $darkest-color;
  }
  > * {
    display: inline-block;
  }
}

#allComments {
  @include border-radius( 4px );
  border: 1px solid #d6d6d6;
  border-bottom: 0;

  .comment {
    padding: .75em 2%;
    background: $lightest-color;
    border-bottom: 1px solid #d6d6d6;
    @include border-radius( 4px );
    time {
      font-size: 13px;
    }
    article {
      font-size: 13px;
      margin: 1em 0;
    }

    .responseTo {
      font-weight: bold;
      margin: 10px 0 0 0;
    }

    textarea {
      width: 98%;
    }
  }

  .children {
    clear: both;
    float: right;
    width: 85%;
    margin-top: .5em;
    border: 1px solid #d6d6d6;
    border-bottom: 0;
    @include border-radius( 4px );
  }
}
.expert {
  background: lighten( sears( decorative ), 15 );
}

// Activity buttons
.actions {
  margin: .5em 0;
  
  button {
    cursor: pointer;
    color: #4e74a3;
    border: 1px solid #d6d6d6;
    font-weight: bold;
    background: $lightest-color url('#{$img}sprite-actions.png') no-repeat;
    display: inline-block;
    float: right;
    text-indent: -999em;
    width: 2em;
    margin-left: 1em;
    font-size: 12px;
    @include border-radius( 2px );
    @include box-shadow(sears( secondary-link ) 1px 2px 4px);
    &:first-letter {
      @extend .upcase
    }
  }
  .addthis_toolbox {
    float: left;
  }
}

.reply {
  float: left;
}

.reply-to-form {
  label, input[type="text"] {
    float: left;
    margin: .5em 1%;
  }
  label {
    margin-top: 1em;
  }
}

@include sprite-position( 'button.flag', center, (( $act-sprite-period * -1 ) * 4) + 2 );
@include sprite-position( 'button.flag.active', center, (( $act-sprite-period * -1 ) * 5) + 2 );

@include sprite-position( 'button.downvote', center, (( $act-sprite-period * -1 ) * 2) + 2 );
@include sprite-position( 'button.downvote.active', center, (( $act-sprite-period * -1 ) * 3) + 2 );

button.upvote {
  width: auto;
  text-indent: 0em;
  margin-left: 0;
  text-align: left;
  padding-right: 1.5em;
}
@include sprite-position( 'button.upvote', 95%, 2px );
@include sprite-position( 'button.upvote.active', 95%, ( $act-sprite-period * -1 ) + 2 );

button.follow {
  float: left;
  width: auto;
  text-indent: 0em;
  background: none;
  margin-left: 0;
}

.follow.active {
    background-color: #4E74A3;
    color: #fff;
  }

.metainfo {
  display: block;
  float: right;
  font-size: 13px;
  position: relative;
  top: 2px;
  margin-left: .5em;
}

/**
 * @author Tim Steele
 * 
 * Styles for the breadcrumb widget. Mainly used on the single pages, i.e.
 * blog, buying guide, question.
 */
.breadcrumb {
  border:solid #d5d5d5;
  border-width:1px 0px;
  padding:1em 0;
  li {
    float:left;
    font-size:.8125em;
    font-weight:bold;
    padding-right:.375em;
  }
  li:before {
    content: " > ";
  }
  li:first-child:before {
    content: "";
  }
}

.kmart .breadcrumb li:before {
  color:kmart( link );
}
      
.sears .breadcrumb li:before {
  color:sears( link );
}
.no-results {
	.header {
		font-weight: bold;
		margin-top: 15px;
		margin-bottom: 5px;
		font-size: 1em;
	}
	ul {
		padding-left: 20px;
	}
}