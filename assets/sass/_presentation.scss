// @author Carl Albrecht-Buehler
// @author Tim Steele

// SITE-WIDE TAG STYLES
html, body {
  height: 100%;
  text-align: left;
  background: $lightest-color;
  margin: 0;
  padding: 0;
  font-family: $basefont;
  line-height: 1.4;
  color: sears( body);
}

a {
  color: sears( link );
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
  &:visited {
    color: sears( link );
  }
}

.kmart a {
  color: kmart( link );
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
  &:visited {
    color: kmart( link );
  }
}

.sears a {
  color: sears( link );
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
  &:visited {
    color: sears( link );
  }
}
// END SITE-WIDE TAG STYLES

// CONVENIENCE CLASSES
.right {
  float: right;
}
.left {
  float: left;
}

.bullets {
  margin: 1em 0; 
  padding: 0 0 0 40px; 
}

ol.bullets {
  list-style-type:decimal;
}

ul.bullets {
  list-style-type:disc;
}

.bold {
  font-weight:700;
}

.faint {
  color:#666666;
}

.upcase {
  text-transform: uppercase;
}

.downcase {
  text-transform: lowercase;
}

.background_light-gray {
  background-color:#f3f3f3;
}
/*
 * SPRITES
 */

#header.sears form #button_search, #header.sears form #input_search,
.sears_button
{
  background-image:url(#{$sears-img}sprite_global.png);
}

#header.kmart form #button_search, #header.kmart form #input_search,
.kmart_button
{
  background-image:url(#{$kmart-img}sprite_global.png);
}

// COMMONLY USED ELEMENTS
.member {
  .info {
    font-size: percentage( 12/16 );
    word-wrap: break-word;
    h4, address {
      @extend .bold;
    }
    h5, p {
      @extend .faint;
    }
    address {
      display: block;
      @extend .bold;
    }
  }
}

.badge {
  img {
    display: block;
    margin: 0 auto;
  }
  h4 {
    padding: .5em 0;
    word-wrap: break-word;
    letter-spacing:-.05em;
  }
  h4, address {
    font-size: percentage( 12/16 );
    @extend .bold;
  }
  &.labeled{
    h4 {
      background: #bcdaf3 url('#{$img}sprite-user.png') repeat-x left bottom;
      text-align: center;
      @include border-radius( 0 0 10px 10px );
    }
    h4, h4 a {
      color: $lightest-color;
    }
    .badge-tail {
      background: url('#{$img}sprite-user.png') no-repeat center top;
    }
  }
}

.span4 .span4 .badge h4 {
  font-size: percentage( 10/16 );
}

.post {
  .content-date {
    display: block;
    float: right;
    font-size:.6875em;
    @extend .faint;
  }
  hgroup {
    @extend .bold;
  }
  h3 {
    font-size: 90%;
  }
  h2 {
    margin-top: .5em;
  }
  article {
    margin-top: .5em;
  }
  .post-actions {
    margin-top: .5em;
    font-size: percentage( 13/16 );
  }
}

.excerpt {
  @extend .faint;
}

.flag {
  float: right;
}

/*
 * GLOBAL ELEMENTS
 */

/*
 * form elements
 */
.input_text {
  /*
   * Do not set padding for left/right to 0.
   * IE8 no like this.
   */
  padding:.3125em .01em;
  border:solid 1px #cccccc;
  height:1.25em;
}

.required:after, .optional:after {
  color: #999999;
  font-size:.7857em;
}

.required:after {
  content: " Required";
}

.optional:after {
  content: " Optional";
}

.form-fields {
  & > li {
    margin-bottom:1.35em;
  }
  label {
    display:block;
    font-size:.875em;
    font-weight:bold;
  }
}

.sears_button, .kmart_button {
  border-left:solid #ff9e6c;
  border-right:solid #cc6f35;
  border-width:0px 1px;
  color:#ffffff;
  cursor:pointer;
  font-size:.875em;
  font-weight:bold;
  height:32px;
  padding:0em 1.5em;
  position:relative;
  text-shadow:1px 1px #666666;
  top:-1px;
  @include border-radius( 5px );
}

.sears_button.azure, .kmart_button.azure {
  border-color:#60768b;
  color:#366392;
  text-shadow:none;
}

.sears_button {
  background-position:0px -88px;
}

.sears_button.azure {
  background-position:0px -140px;
}

.kmart_button {
  background-position:0px -96px;
}



form {}

/*
 * FEATURED
 */

.content-container .content-headline {
  font-size:1.25em;
  font-weight:bold;
  margin:0;
}

.content-container .content-header {
  border:solid #dddcdc;
  border-width:1px 0px;
  padding:.625em;
  @extend .bold;
  @extend .faint;
  h3 {
    font-size:1.25em;
  }
  h4 {
    font-size:.6875em;
  }
}

.content-container .content-body {
  padding:.625em;
  p {
    color:#333333;
    font-size:.8125em;
    line-height:1.7em;
    margin-bottom:1em; 
  }
  .content-details {
    padding-bottom:.625em;
    .content-category {
      font-size:.8125em;
      float:left;
      @extend .bold;
    }
    .content-date {
      color:#999999;
      font-size:.6875em;
      float:right;
    }
  }
  .content-comments {
    color:#333333;
    font-size:.75em;
    margin-top:.8125em;
    li {
      border-left:solid 1px #999999;
      float:left;
      padding:0em .3125em;
    }
    & > li:first-child {
      border-left:none;
    }
  }
	.share-full {
		margin-top: 10px;
	}
}

.span4, .span3 {
  .content-container .content-body .content-comments li {
    border-left: 0;
    float: none;
  }
}

// FEATURED COMMUNITY MEMBERS
.featured-members {
  .span4 {
    .member {
      border-right: 1px solid sears( decorative );
      @include col_layout( (100, 90), 10 );
      .content-comments {
        width: 100%;
        li {
          float: none;
          border: 0;
        }
      }
    }
    & + .span4 + .span4 .member {
      border-right: 0;
    }
  }
}

// Alternate selector for below class. Use if override for more scenarios is required.
// Also, more like these would have to be created on a per-widget basis if development is asked to create more override states.
//.span3 .featured-members, .span4 .featured-members, .span6 .featured-members, 
//.span3.featured-members, .span4.featured-members, .span6.featured-members, .span8.featured-members

.span3 .featured-members, .span4 .featured-members, .span6 .featured-members {
  .span4 {
    float: none;
    width: 100%;
    margin-left: 0;
    margin-bottom: 1em;
    .member {
      border-right: 0;
      @include col_layout( (80, 210), 10 );
    }
  }
}

// FEATURED QUESTION
.featured-question.content-container {
  .category-image {
    background:transparent url(#{$img}category-image.jpg) no-repeat 0px 0px;
    float:left;
    height:6.25em;
    margin:0 .625em .625em 0;
    width:6.25em;
  }
  
  $column-width: nth( $span-widths, 4 );
  $calculated-widths: ratioize( ($column-width, $column-width, 10) );
  &.columns {
    .content-body {
      & > * {
        float: left;
        width: nth( $calculated-widths, 1 );
        & + * {
          margin-left: nth( $calculated-widths, 3 );
        }
      }
    }
    .featured:nth-child(odd) .column {
      border-right: 1px solid sears( decorative );
      padding-right: nth( $calculated-widths, 3 );
    }
    .content-date {
      float: none;
    }
    .content-headline {
      font-size: 90%;
    }
  }
}

.span4, .span3 {
  .featured-question.content-container.columns .content-body > * {
    float: none;
    width: 100%;
    margin-left: 0;
  }
}
.span4, .span3 {
  .featured-question.content-container.columns .featured {
    margin-bottom: .75em;
    &:nth-child(odd) .column {
      border-right: 0;
      padding-right: 0;
    }
  }
}

// RESULT LIST
.result-list {
  margin-top: 1em;
  border: 1px solid sears( decorative );
  @include border-radius( 5px );
  .content-header {
    width: 95%;
    margin-left: auto;
    margin-right: auto;
  }
  .lone-result {
    padding-top: .75em;
    margin-top: .5em;
    border-top: 1px solid sears( decorative );
    &:first-child {
      margin-top: 0;
      border-top: 0;
    }
  }
  .content-header {
    border-top: 0;
    font-size: percentage( 12/16 );
    padding-top: 1.5em;
    padding-bottom: 1.5em;
  }
}

.member .info .content-comments {
  font-size: 100%;
  li {
    float: none;
    border: 0;
    margin-top: 0;
  }
}

// FEATURED BLOG POST
.content-container.featured-post {
	.content-excerpt, .content-byline {
		font-size:.75em
	}
}
.span4 .content-container.featured-post .span6 {
	width: 100%;
	margin-left: 0;
}

// RECENT ACTIVITY
.recent-activity {
  li {
    margin-top: 1em;
    border-top: 1px solid sears( decorative );
    padding-top: .75em;
    padding-bottom: .75em;
    font-size: percentage( 12/16 );
    line-height: 1.7;
    &:first-child {
      margin-top: 0;
      border-top: 0;
    }
  }
  time {
    float: right;
    @extend .faint;
  }
  h3 { 
    a {
      font-weight: bold;
    }
    & > * {
      display: block;
    }
  }
  .excerpt {
    padding: .3em 1em;
    color: $darkest-color;
    background: lighten( sears( decorative ), 15 );
    // create quotes around a comment
    &:before {
      content: "\201C";
    }
    &:after {
      content: "\201D";
    }
  }
}

.span6, .span4, .span3 {
  h3 > * {
    display: inline;
  }
}

/*
 * POST A QUESTION
 */

.content-container.post-your-question {
  form {
    margin-top:.75em;
    .state_post-your-question {
      .input_text {
        width:83%;
      }
    }
    .state_post-question-details {
      .input_text {
        width:98%;
      }
      .input_textarea {
        width:98%;
      }
    }
    .state_confirm-post {
      .confirmation {
        padding:.625em;
      }
      .content-headline {
        color:#666666;
        font-size:1.25em;
        margin-bottom:.30em;
      }
    }
  }
}

/*
 * LOGIN/REGISTER/FORGOT PASSWORD
 */

.form_login, .form_register {
  .input_text {
    width:100%;
  }
  label, a {
    line-height:32px;
  }
  label {
    text-align:right;
  }
  .forgot {
    font-size: .6875em;
  }
  .form-fields > li p {
    margin-bottom:0;
  }
}

// subnav widget
.widget_communities_menu_widget {
	.subnav-items {
		font-size: .80em;
		.menu-item {
			padding: 6px 0;
		}
	}
	.subcat-selector-container {
		font-size: .75em;
		margin-top: 15px;
		color: #666666;
		select {
			margin-left: 10px;
			color: #000000;
		}
	}
}

// PROFILE
$tab-padding: "1em .5em .6em .5em";
.profile {
  .tabs {
    li {
      float: left;
      min-width: percentage( ( nth( $span-widths, 2 ) ) / $grid-width );
      margin-left: $margin-width-pct;
      border: solid sears( decorative );
      border-width: 1px 1px 0 1px;
      text-align: center;
      font-size: percentage( 12/16 );
      @include border-radius( 5px 5px 0 0);
      background: $nav-color url('#{$sears-img}sprite_navigation.png');
    }
    a {
      display: block;
      padding: #{$tab-padding};
    }
    @include sprite-position( "li", left, ( $nav-sprite-period * ( -1 ) - 1 ) );
    .active {
      position: relative;
      top: 1px;
      background: $lightest-color;
      padding: #{$tab-padding};
    }
  }
  nav.bar {
    border-bottom: 1px solid sears( decorative );
    border-top: 1px solid sears( decorative );
    @include background-image(linear-gradient(white, #f4f4f4));
    li {
      float: left;
      margin-left: $margin-width-pct;
      font-size: percentage( 15/16 );
      padding: .6em .5em;
    }
    li:first-child {
      margin-left: 0;
    }
  }
} 

// content list widget
.content-body.content-list {
	.content-item {
		margin-bottom: 10px;
		float: left;
		clear: both;
		.post-title {
			line-height: 1.2em;
		}
		.byline, .comments-count, .post-date {
			font-size: .7em;
			line-height: 1.4em;
			color: #999;
		}
		p {
			margin-bottom: 0;
		}
	}
	.more-link {
		font-size: .8em;
		margin-top: 15px;
		float: left;
		clear:both;
	}
}

/*
* Activity buttons
*/
.actions {
  float: left;
  overflow: hidden;

  .action {
    color: #6f6f6f;
    float: left;
    overflow: hidden;

    a {
      display: block;
      float: left;
    }

    .upvote {
      -webkit-border-radius: 2px;
      -moz-border-radius: 2px;
      -ms-border-radius: 2px;
      -o-border-radius: 2px;
      background-color: #fff;
      background: $nav-color url('#{$sears-img}sprite_navigation.png');
      background-position: right center;
      border: 1px solid #d6d6d6;
      display: block;
      height: 19px;
      padding: 1px 12px;
      width: 19px;
    }
  }
}